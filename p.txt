
# Create a streamlit app that will take in the text content of the mdisk website and will download the files from the website. The streamlit app will have a textbox that will take in the content of the mdisk website. The streamlit app will also have a button to download the files. The streamlit app will first tell the number of the mdisk URLs in the text. The textbox will be of multiple lines. There will be 2 buttons. Single download and multiple download. If the user clicks the single download button then each URL will be presented to him or her with a process button. When the user will click the process button, then the request to make the to get the details of the video will be taken out and the details of that video will be projected to him or her like the file size, file name, etc. And with the download button of that video. But if the users select the multiple download option then the user will be presented with the details of the videos. End with a download button on all the videos and an additional button to download all the videos. The video should be titled as their title number with the number of ID plus MP4.

# e.g. text is

s =  """
🎬 Lakadbaggha (2023)
💽 Quality : S-Print
🔊 Audio : Hindi
💿 Genre: Adventure
⭐ IMDB Rating: 9.1/10

🔴 NOTE - This Links Online Play Or Download In SPlayer & MX Player App

🔴1080p👇
 https://mdisk.me/convertor/192x85/0gxCiA

🔴720p👇
 https://mdisk.me/convertor/160x71/s1TYrs

🔴720p HEVC👇
https://mdisk.me/convertor/160x71/NmSp4C

🔴480p👇 https://mdisk.me/convertor/9x4/9xQvvq

🔥 Join Us Backup Channel 👇
@webseries_hits
"""

# The output should be
urls = [
    "https://mdisk.me/convertor/192x85/0gxCiA",

    "https://mdisk.me/convertor/160x71/s1TYrs",

    "https://mdisk.me/convertor/160x71/NmSp4C",

    "https://mdisk.me/convertor/9x4/9xQvvq"

]


"""
sample of how to process the url is

    inp = urls #input('Enter the Link: ')
    fxl = inp.split("/")
    cid = fxl[-1]
    URL=f'https://diskuploader.entertainvideo.com/v1/file/cdnurl?param={cid}'
    header = {
        'Accept': '*/*',
        'Accept-Language': 'en-US,en;q=0.5',
        'Accept-Encoding': 'gzip, deflate, br',
        'Referer': 'https://mdisk.me/',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36'
    }
    resp = requests.get(url=URL, headers=header).json()
    fn = resp['filename']
    dn = resp['display_name']
    dr = resp['duration']
    sz = resp['size']
    ht = resp['height']
    wt = resp['width']
    download = resp['download']
"""
